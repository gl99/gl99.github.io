/*
  Mini UnGame ENgine (MUGEN) ver 0.13
  Copyright 2019 Brian James

  Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
var MUGEN=function(){var r,c,e="titleScreenImageURL",a="heroSpeed",u="monsterSpeed",t="timeBetweenMonsters",d="jumpHeight",l="attackDuration",n="heroHitRadius",m="attackRadius",h="monsterMoveToX",p="maxSimultaneousMonsters",f="monsterHitRadius",o="pointsPerMonsterKilled",i="onGameStart",y="onMonsterSpawn",s="onMonsterWasHit",g="onHeroWalk",v="onHeroAttack",L="onHeroJump",w="makeResponsive",E="autoPlay",W=[e,a,u,t,d,l,m,n,h,p,f,o,i,y,s,v,g,L,w,E],x={titleScreenImageURL:null,heroSpeed:220,monsterSpeed:450,timeBetweenMonsters:2600,jumpHeight:145,attackDuration:600,heroHitRadius:50,attackRadius:50,monsterMoveToX:null,maxSimultaneousMonsters:10,monsterHitRadius:50,pointsPerMonsterKilled:1,onGameStart:null,onMonsterSpawn:null,onMonsterWasHit:null,onHeroAttack:null,onHeroWalk:null,onHeroJump:null,makeResponsive:!1,autoPlay:!1},b={},C=0,R="",S=0,T=(atob("TWFkZSB3aXRoIE1VR0VO"),atob("aHR0cHM6Ly9naXRodWIuY29tL21hbGxvYy1lcnJvci9tdWdlbi1kaXN0cmlidXRpb24="),null),H=null,M=null,k=document.querySelector("body"),B=document.querySelector(".instructions"),F=null,P="titleScreen",q="hero",N="walking",V="left",A="idling",X="jumping",z="attacking",G="monster",I="preload-image",j="was-hit",U=!1,Y=null;this.MUGEN=function(){},this.initialize=function(t){O(t),Et(),b[E]||(k.style.cursor="pointer",Wt(),B.classList.add("show")),et(),D(),K(),wt(),J(),null!==b[e]?Q():Z()};var J=function(){var t=document.createElement("div");t.classList.add(G,j),t.style.visibility="hidden",k.appendChild(t),(R=window.getComputedStyle(t).getPropertyValue("transition")).split(",").forEach(function(t){var e=(t=t.trim()).split(" "),n=1e3*parseFloat(e[1]);S+=n;var l=1e3*parseFloat(e[3]);S+=l}),t.remove()},K=function(){r=H.clientWidth,c=H.clientHeight,b[w]&&lt()},D=function(){(H=document.createElement("div")).classList.add("background"),k.appendChild(H),k.style.width=H.clientWidth+"px",k.style.height=H.clientHeight+"px",(M=document.createElement("div")).classList.add(q,A),k.appendChild(M),(F=document.createElement("div")).classList.add("score"),k.appendChild(F)},O=function(t){for(var e=0;e<W.length;e++){var n=W[e];b[n]=x[n]}void 0!==t&&nt(t),xt()},Z=function(){setInterval(ht,b[t]),b[E]&&mt(),null!==b[i]&&setTimeout(b[i],0),window.requestAnimationFrame($)},Q=function(){(T=document.createElement("div")).classList.add(P),T.style.position="absolute",T.style.top="0",T.style.left="0",T.style.width="100%",T.style.height="100%",T.style["background-image"]="url('"+b[e]+"')",T.style["background-size"]="contain",T.style["background-repeat"]="no-repeat",T.style["background-color"]="black",T.style.opacity="1",T.style.transition="opacity 500ms ease-in-out",T.style["z-index"]="9999",k.appendChild(T)},$=function(){var t=document.querySelectorAll("."+G),e=_(t);tt(e),window.requestAnimationFrame($)},_=function(t){var e=M.getBoundingClientRect(),i=k.getBoundingClientRect(),o=e.left+M.scrollLeft-(i.left+k.scrollLeft)+.5*e.width,s=e.top+M.scrollTop-(i.top+k.scrollTop)+.5*e.height,a=[],n=k.clientWidth/r,c=b[f]*n,u=b[m]*n;return null!==t&&t.forEach(function(t){var e=t.getBoundingClientRect(),n=e.left+t.scrollLeft-(i.left+k.scrollLeft)+.5*e.width,l=e.top+t.scrollTop-(i.top+k.scrollTop)+.5*e.height;Math.sqrt(Math.pow(o-n,2)+Math.pow(s-l,2))<=c+u&&M.classList.contains(z)&&(o<n&&!M.classList.contains(V)||n<o&&M.classList.contains(V))&&a.push(t)}),a},tt=function(t){var i=k.clientWidth<r;t.forEach(function(t){if(!t.classList.contains(j)){var e=window.getComputedStyle(t).getPropertyValue("transition");if(t.classList.add(j),t.style.transition=e+", "+R,i){console.log("resized hit");window.getComputedStyle(t);t.style.width=null,t.style.height=null,t.style.bottom=null,t.style.top=null;var n=k.clientWidth/r;t.style.width=t.clientWidth*n+"px",t.style.height=t.clientHeight*n+"px";var l=parseFloat(window.getComputedStyle(t).getPropertyValue("bottom"));t.style.bottom=l*n+"px",t.style.top="auto",t.style.left="auto"}setTimeout(function(){t.remove()},S),0,null!==b[s]&&setTimeout(b[s],0),Lt(b[o])}})},et=function(){var t=document.createElement("div");t.classList.add(I,q,A),k.appendChild(t);var e=document.createElement("div");e.classList.add(I,q,N),k.appendChild(e);var n=document.createElement("div");n.classList.add(I,q,X),k.appendChild(n);var l=document.createElement("div");l.classList.add(I,q,z),k.appendChild(l)},nt=function(t){for(var e=0;e<W.length;e++){var n=W[e];void 0!==t[n]&&(b[n]=t[n])}},lt=function(){var t=r/c,e=r,n=r;if(document.documentElement.clientWidth<r&&(e=document.documentElement.clientWidth),document.documentElement.clientHeight<c&&(n=document.documentElement.clientHeight*t),e<r||n<r){var l=e<n?e:n,i=l/t,o=l/r;k.style.width=l+"px",k.style.height=i+"px",H.style.width=l+"px",H.style.height=i+"px",M.style.width=null,M.style.height=null,M.style.bottom=null,M.style.top=null,M.style.left=null,M.style.right=null,M.style.width=M.clientWidth*o+"px",M.style.height=M.clientHeight*o+"px";var s=parseFloat(window.getComputedStyle(M).getPropertyValue("bottom"));M.style.bottom=s*o+"px",M.style.top="auto",M.style.right="auto",M.style.left=parseFloat(window.getComputedStyle(M).getPropertyValue("left"))*o+"px",null!==(a=document.querySelectorAll("."+G))&&a.forEach(function(t){t.style.width=null,t.style.height=null,t.style.bottom=null,t.style.top=null,t.style.width=t.clientWidth*o+"px",t.style.height=t.clientHeight*o+"px";var e=parseFloat(window.getComputedStyle(t).getPropertyValue("bottom"));t.style.bottom=e*o+"px",t.style.top="auto"})}else{var a;H.style.width=null,H.style.height=null,k.style.width=H.clientWidth+"px",k.style.height=H.clientHeight+"px",M.style.width=null,M.style.height=null,M.style.bottom=null,M.style.top=null,M.style.left=null,(M.style.right=null)!==(a=document.querySelectorAll("."+G))&&a.forEach(function(t){t.style.width=null,t.style.height=null,t.style.bottom=null,t.style.top=null})}},it=function(t){t>M.offsetLeft?(M.className="",dt(M),M.classList.add(q,N)):(M.className="",dt(M),M.classList.add(q,N,V));var e=Math.abs(t-M.offsetLeft),n=b[a];document.documentElement.clientWidth<r&&(n*=document.documentElement.clientWidth/r);var l=e/n*1e3;M.style["transition-duration"]=l+"ms",M.style.left=t+"px",clearTimeout(Y),Y=setTimeout(function(){rt(),b[E]&&mt()},l),null!==b[g]&&setTimeout(b[g],0)},ot=function(t){clearTimeout(Y),M.style["transition-duration"]="0ms";var e=M.getBoundingClientRect().left+M.scrollLeft-(k.getBoundingClientRect().left+k.scrollLeft);M.style.left=e+"px",st();var n=b[d],l=b[a];document.documentElement.clientWidth<r&&(n*=document.documentElement.clientWidth/r,l*=document.documentElement.clientWidth/r);var i=n/l*1e3/2;M.style["transition-duration"]=i+"ms";var o="";Math.abs(t-e)>.3*M.clientWidth&&(t<e?(o="left",M.classList.add(V)):o="right");var s=50;document.documentElement.clientWidth<r&&(s*=document.documentElement.clientWidth/r),"left"===o?M.style.left=e-s+"px":"right"===o&&(M.style.left=e+s+"px"),M.style["margin-bottom"]=n+"px",setTimeout(function(t){M.style["margin-bottom"]=0,"left"===t?M.style.left=e-2*s+"px":"right"===t&&(M.style.left=e+2*s+"px"),M.classList.contains(z)||(Y=setTimeout(function(){rt(),b[E]&&mt()},i))},i,o),null!==b[L]&&setTimeout(b[L],0)},st=function(){M.classList.remove(q),M.classList.remove(N),M.classList.remove(A),dt(M),M.classList.add(q,X)},at=function(t){clearTimeout(Y);var e=M.classList.contains(X),n=M.getBoundingClientRect().left+M.scrollLeft-(k.getBoundingClientRect().left+k.scrollLeft);e||(M.style["transition-duration"]="0ms",ut(),M.style.left=n+"px"),ct(),t<n+.5*M.clientWidth?M.classList.add(V):M.classList.remove(V),Y=setTimeout(function(){rt(),b[E]&&mt()},b[l]),null!==b[v]&&setTimeout(b[v],0)},ct=function(){M.className="",dt(M),M.classList.add(q,z)},ut=function(){M.className="",dt(M),M.classList.add(q,A)},rt=function(){ut()},dt=function(t){t.style.animaton="none",t.offsetHeight,t.style.animation=""},mt=function(){var t=Math.random();if(t<.1)rt(),setTimeout(function(){mt()},1e3);else if((t=Math.random())<.5){var e=.5*M.clientWidth,n=e+Math.round(Math.random()*(k.clientWidth-2*e));it(n)}else if(t<.75){var l=Math.random(),i=M.getBoundingClientRect().left+M.scrollLeft;ot(l<.33?i-300:l<.66?i:i+300)}else at(.5*k.clientWidth)},ht=function(){if(!(document.querySelectorAll("."+G).length>=b[p])){var t=document.createElement("div");t.classList.add(G),k.appendChild(t);var e,n=window.getComputedStyle(t),l=-50-t.clientWidth;if(t.style.right=l+"px",k.clientWidth<r){var i=k.clientWidth/r;t.style.width=t.clientWidth*i+"px",t.style.height=t.clientHeight*i+"px",t.style.top="auto";var o=parseFloat(n.getPropertyValue("bottom"));t.style.bottom=o*i+"px"}e=null===b[h]||isNaN(parseFloat(b[h]))?k.clientWidth+t.clientWidth+10:b[h]*document.documentElement.clientWidth/r;var s=Math.abs(l-e),a=b[u];document.documentElement.clientWidth<r&&(a*=document.documentElement.clientWidth/r);var c=s/a*1e3;t.style.transition="right "+c+"ms linear",t.style.right=e+"px",null===b[h]&&setTimeout(function(){t.remove()},c),null!==b[y]&&setTimeout(b[y],0)}},pt=function(t,e,n,l){if(t.classList.contains(P))T.style.opacity="0",T.style["pointer-events"]="none",setTimeout(function(){T.remove(),Z()},510);else if(B.classList.remove("show"),t.classList.contains(G));else if(l)M.classList.contains(z)||at(e);else if(!M.classList.contains(X)&&!M.classList.contains(z)){var i=e-.5*M.clientWidth;n>=M.offsetTop?it(i):ot(i)}},ft=function(t){U||(k.removeEventListener("touchstart",yt),U=!0);var e=t.clientX-(t.target.getBoundingClientRect().left+k.scrollLeft),n=t.clientY-(t.target.getBoundingClientRect().top+k.scrollTop),l=t.shiftKey;return pt(t.target,e,n,l),!1},yt=function(t){U||(k.removeEventListener("mousedown",ft),U=!0);var e=t.touches[0].clientX-(t.target.getBoundingClientRect().left+k.scrollLeft),n=t.touches[0].clientY-(t.target.getBoundingClientRect().top+k.scrollTop),l=1<t.touches.length;return pt(t.target,e,n,l),!1},gt=function(t){},vt=function(t){b[w]&&lt()},Lt=function(t){C+=t,wt()},wt=function(){F.textContent=C},Et=function(){window.addEventListener("resize",vt)},Wt=function(){document.addEventListener("keydown",gt),k.addEventListener("mousedown",ft),k.addEventListener("touchstart",yt)},xt=function(){[i,y,s,v,L,g].forEach(function(t){null===b[t]||bt(b[t])||(b[t]=null,console.log("**ERROR: The variable you set for "+t+" is not a function"))})},bt=function(t){return t&&"[object Function]"==={}.toString.call(t)}};